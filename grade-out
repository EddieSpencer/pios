trap_check_kernel() succeeded!
Physical memory: 1126012K available
mem_check: 280817 free pages
mem_check() succeeded!
spinlock_check() succeeded!
pmap_check() succeeded!
testfs: in main()
initfilecheck: found file 'consin' mode 0x9000 size 0
initfilecheck: found file 'consout' mode 0x1000 size 0
initfilecheck: found file '/' mode 0x2000 size 0
initfilecheck: found file 'sh' mode 0x1000 size 78120
initfilecheck: found file 'ls' mode 0x1000 size 55239
initfilecheck: found file 'echo' mode 0x1000 size 49978
initfilecheck: found file 'cat' mode 0x1000 size 48104
initfilecheck: found file 'wc' mode 0x1000 size 54707
initfilecheck: found file 'testfs' mode 0x1000 size 89525
initfilecheck: found file 'testvm' mode 0x1000 size 62559
initfilecheck passed
readwritecheck passed
seekcheck passed
readdircheck: found file 'consin' mode 0x9000 size 0
readdircheck: found file 'consout' mode 0x1000 size 0
readdircheck: found file '/' mode 0x2000 size 0
readdircheck: found file 'sh' mode 0x1000 size 78120
readdircheck: found file 'ls' mode 0x1000 size 55239
readdircheck: found file 'echo' mode 0x1000 size 49978
readdircheck: found file 'cat' mode 0x1000 size 48104
readdircheck: found file 'wc' mode 0x1000 size 54707
readdircheck: found file 'testfs' mode 0x1000 size 89525
readdircheck: found file 'testvm' mode 0x1000 size 62559
readdircheck passed
conscheck: write() to STDOUT_FILENO
conscheck: fprintf() to 'stdout'
conscheck: fprintf() to 'consout' file
Buffered console output should NOT have appeared yet
Buffered console output SHOULD have appeared now
123456789
consoutcheck done
Enter something: FOOBAR
You typed: FOOBAR
consincheck done
called by execcheck
execcheck done
user warning at ../lib/fork.c:311: reconcile_inode: parent/child conflict: reconcilefileC (14/14)
user panic at ../user/cat.c:43: can't open reconcilefileC: Conflict detected
reconcilecheck: basic file reconciliation successful
forkwrite: reconcilefile0
forkwrite: reconcilefile1
forkwrite: reconcilefile2
-          13 consin
-         253 consout
d           0 /
-       78120 sh
-       55239 ls
-       49978 echo
-       48104 cat
-       54707 wc
-       89525 testfs
-       62559 testvm
-          26 reconcilefile0
-          26 reconcilefile1
-          26 reconcilefile2
C          26 reconcilefileC
reconcilecheck: running echo
reconcilecheck: echo running
called by reconcilecheck
reconcilecheck: echo finished
reconcilecheck done
testfs: all tests completed; starting shell...
$ echo echo in script >script
$ sh <script >out
$ cat script out
echo in script
in script
$ wc script out
1 3 15 script
1 2 10 out
$ exit
root process exited with status 0
